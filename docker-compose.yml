version: "3.3"

services:
  ghorde-surreal:
    image: surrealdb/surrealdb:latest
    container_name: ghorde_surrealdb
    restart: always
    command: start --user root --pass root file:/data/database.db
    ports:
      - 8000:8000
    volumes:
      - ./data:/data
  ghorde-bot:
    container_name: ghorde_bot
    build: 
      context: ./
      dockerfile: dockerfile.bot
    volumes: 
      - ./ghorde-bot:/app
  ghorde-api:
    container_name: ghorde_api
    build:
      context: ./
      dockerfile: dockerfile.api
    ports:
      - 5000:5000
    volumes:
      - ./ghorde-api:/app